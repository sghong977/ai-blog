"use strict";(self.webpackChunkai_blog=self.webpackChunkai_blog||[]).push([[9375],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>d});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},u=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),c=s(a),h=r,d=c["".concat(p,".").concat(h)]||c[h]||m[h]||l;return a?n.createElement(d,i(i({ref:t},u),{},{components:a})):n.createElement(d,i({ref:t},u))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=h;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[c]="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},3911:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(7462),r=(a(7294),a(3905));const l={slug:"settings",title:"Settings",authors:["seulgi"],tags:["installation"]},i=void 0,o={permalink:"/ai-blog/blog/settings",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2023-04-07-settings.mdx",source:"@site/blog/2023-04-07-settings.mdx",title:"Settings",description:"Stressful Settings.",date:"2023-04-07T00:00:00.000Z",formattedDate:"April 7, 2023",tags:[{label:"installation",permalink:"/ai-blog/blog/tags/installation"}],readingTime:2.455,hasTruncateMarker:!1,authors:[{name:"SeulGi Hong",title:"Vision AI Engineer @ CJ AI Center",url:"https://github.com/sghong977",imageURL:"https://media.licdn.com/dms/image/D5603AQGRf-2u7XRd3Q/profile-displayphoto-shrink_800_800/0/1670852033708?e=1693440000&v=beta&t=1tHwHsKS_UJUw6G2hDlqLYyX0u4Qoi1AKf5Xik_ONoo",key:"seulgi"}],frontMatter:{slug:"settings",title:"Settings",authors:["seulgi"],tags:["installation"]},prevItem:{title:"Welcome",permalink:"/ai-blog/blog/welcome"}},p={authorsImageUrls:[void 0]},s=[{value:"&quot;ImportError: libGL.so.1: cannot open shared object file: No such file or directory&quot;",id:"importerror-libglso1-cannot-open-shared-object-file-no-such-file-or-directory",level:3},{value:"ImportError: (&#39;Unable to load OpenGL library&#39;, &#39;OSMesa: cannot open shared object file: No such file or directory&#39;, &#39;OSMesa&#39;, None)",id:"importerror-unable-to-load-opengl-library-osmesa-cannot-open-shared-object-file-no-such-file-or-directory-osmesa-none",level:3},{value:"AttributeError: &#39;PosixPath&#39; object has no attribute &#39;path&#39;",id:"attributeerror-posixpath-object-has-no-attribute-path",level:3},{value:"How to delete none docker images?",id:"how-to-delete-none-docker-images",level:3},{value:"OpenPose",id:"openpose",level:3},{value:"OSMesa",id:"osmesa",level:3},{value:"PHALP",id:"phalp",level:3}],u={toc:s},c="wrapper";function m(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Stressful Settings."),(0,r.kt)("h1",{id:"dependencies"},"Dependencies"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Detectron2",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"python 3.7 >="),(0,r.kt)("li",{parentName:"ul"},"torch 1.8 >="))),(0,r.kt)("li",{parentName:"ul"},"scikit-learn == 0.22",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"it takes a while to set"),(0,r.kt)("li",{parentName:"ul"},"pip: Cython"),(0,r.kt)("li",{parentName:"ul"},"apt-get: gcc, g++",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://woowaa.net/entry/gcc-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0"},"link")))))),(0,r.kt)("li",{parentName:"ul"},"official neural renderer is tensorflow version.")),(0,r.kt)("hr",null),(0,r.kt)("h1",{id:"errors"},"Errors"),(0,r.kt)("h3",{id:"importerror-libglso1-cannot-open-shared-object-file-no-such-file-or-directory"},'"ImportError: libGL.so.1: cannot open shared object file: No such file or directory"'),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"apt-get update && apt-get install ffmpeg libsm6 libxext6  -y")),(0,r.kt)("h3",{id:"importerror-unable-to-load-opengl-library-osmesa-cannot-open-shared-object-file-no-such-file-or-directory-osmesa-none"},"ImportError: ('Unable to load OpenGL library', 'OSMesa: cannot open shared object file: No such file or directory', 'OSMesa', None)"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"install OSMesa")),(0,r.kt)("h3",{id:"attributeerror-posixpath-object-has-no-attribute-path"},"AttributeError: 'PosixPath' object has no attribute 'path'"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://stackoverflow.com/questions/59693174/attributeerror-posixpath-object-has-no-attribute-path"},"link")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://ryanking13.github.io/2018/05/22/pathlib.html"},"link2")),(0,r.kt)("li",{parentName:"ul"},"PosixPath? When I print os.name, 'posix' returned.")),(0,r.kt)("hr",null),(0,r.kt)("h1",{id:"docker"},"Docker"),(0,r.kt)("h3",{id:"how-to-delete-none-docker-images"},"How to delete none docker images?"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},'docker rmi $(docker images -f "dangling=true" -q)'),"\nAfter I tried this, every ","<","none",">"," dockers are deleted."),(0,r.kt)("hr",null),(0,r.kt)("h1",{id:"installation"},"Installation"),(0,r.kt)("h3",{id:"openpose"},"OpenPose"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Install guide ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/CMU-Perceptual-Computing-Lab/openpose/blob/master/doc/installation/0_index.md#compiling-and-running-openpose-from-source"},"link"),", ",(0,r.kt)("a",{parentName:"li",href:"https://jjeamin.github.io/posts/openpose/"},"link2")),(0,r.kt)("li",{parentName:"ul"},"I'm using Ubuntu server and don't have GUI"),(0,r.kt)("li",{parentName:"ul"},"git clone regressively."),(0,r.kt)("li",{parentName:"ul"},".... I just download openpose docker image. docker pull d0ckaaa/openpose"),(0,r.kt)("li",{parentName:"ul"},"cmake .."),(0,r.kt)("li",{parentName:"ul"},"make -j4",(0,r.kt)("inlineCode",{parentName:"li"},"nproc")),(0,r.kt)("li",{parentName:"ul"},"how to use: ",(0,r.kt)("a",{parentName:"li",href:"https://viso.ai/deep-learning/openpose/"},"https://viso.ai/deep-learning/openpose/"))),(0,r.kt)("h3",{id:"osmesa"},"OSMesa"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Try this. ",(0,r.kt)("a",{parentName:"li",href:"https://pyrender.readthedocs.io/en/latest/install/index.html#installmesa"},"link")),(0,r.kt)("li",{parentName:"ul"},"Before try this,",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"apt-get install wget"),(0,r.kt)("li",{parentName:"ul"},"apt-get install pkg-config"),(0,r.kt)("li",{parentName:"ul"},"apt-get install libexpat1-dev"))),(0,r.kt)("li",{parentName:"ul"},"i installed in /usr/local"),(0,r.kt)("li",{parentName:"ul"},"MESA_HOME=/usr/local (+/lib?)"),(0,r.kt)("li",{parentName:"ul"},"issues",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://redstarhong.tistory.com/98"},"https://redstarhong.tistory.com/98")," GL? PyOpenGL?"),(0,r.kt)("li",{parentName:"ul"},'update "/opt/conda/lib/python3.9/site-packages/OpenGL/platform/egl.py"'),(0,r.kt)("li",{parentName:"ul"},"apt-get install libosmesa6-dev"),(0,r.kt)("li",{parentName:"ul"},"if PyOpenGL is failed, clone git and reinstall PyOpenGL.")))),(0,r.kt)("h3",{id:"phalp"},"PHALP"),(0,r.kt)("p",null,"I failed while using conda yml file because:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"First, I installed conda inside of a docker container to keep experiments going on.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"when I tried to create conda env, it takes more than an hour to solve dependencies, but it still doesn't finished."))),(0,r.kt)("li",{parentName:"ul"},"Then, I tried to install every commands on my own, neural renderer and cuda path problems occurred.",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"It was hard for me to find cuda path in conda env because someone said that each conda environment would only contain the parts of cuda"),(0,r.kt)("li",{parentName:"ul"},"So I should export every paths of cuda related stuff, but when I searched cuda paths in my server computer, there are too many other settings, so I'm not sure what to add"))),(0,r.kt)("li",{parentName:"ul"},"These are the reasons why I didn't use conda")),(0,r.kt)("p",null,"I use these commands sequentially. After that, demo works well on my docker container.\nOfficial PHALP's colab pip output: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/sghong977/sghong977.github.io/files/11175914/phalp_colab.txt"},"phalp_colab.txt"),"  "),(0,r.kt)("p",null,"! pip install pyrender",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install opencv-python",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install joblib",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install cython",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install scikit-learn==0.22",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install scikit-image",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install git+",(0,r.kt)("a",{parentName:"p",href:"https://github.com/facebookresearch/detectron2.git"},"https://github.com/facebookresearch/detectron2.git"),(0,r.kt)("br",{parentName:"p"}),"\n","! pip install git+",(0,r.kt)("a",{parentName:"p",href:"https://github.com/brjathu/pytube.git"},"https://github.com/brjathu/pytube.git"),(0,r.kt)("br",{parentName:"p"}),"\n","! pip install git+",(0,r.kt)("a",{parentName:"p",href:"https://github.com/brjathu/NMR.git"},"https://github.com/brjathu/NMR.git"),(0,r.kt)("br",{parentName:"p"}),"\n","! pip install chumpy",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install ipython",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install gdown",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install dill",(0,r.kt)("br",{parentName:"p"}),"\n","! pip install scenedetect","[opencv]","  "),(0,r.kt)("p",null,"But if you use v1.1, additional packages are needed."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Install OSMesa"),(0,r.kt)("li",{parentName:"ul"},"pip install smplx submitit rich pyrootutils colordict"),(0,r.kt)("li",{parentName:"ul"},"pip install -e ."),(0,r.kt)("li",{parentName:"ul"},"install hydra-core again (Posix error)"),(0,r.kt)("li",{parentName:"ul"},"python scripts/demo.py video.source=\\'\"",(0,r.kt)("a",{parentName:"li",href:"https://www.youtube.com/watch?v=xEH_5T9jMVU%22%5C'"},"https://www.youtube.com/watch?v=xEH_5T9jMVU\"\\'"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"I use osmesa, not egl\n",(0,r.kt)("img",{parentName:"li",src:"https://user-images.githubusercontent.com/46152199/230560634-e9edb760-e566-4d5c-88c1-ea38c4cf3855.png",alt:"image"}))))))}m.isMDXComponent=!0}}]);